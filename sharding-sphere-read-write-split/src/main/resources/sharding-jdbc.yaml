# JDBC 逻辑库名称。在集群模式中，使用该参数来联通 ShardingSphere-JDBC 与 ShardingSphere-Proxy。
# 默认值：logic_db
databaseName: logic_db

# 模式配置，单节点或者集群配置
mode:
  type: Standalone
  repository:
    type: JDBC

# 数据源配置
dataSources:
  #数据源名称
  write_ds:
    dataSourceClassName: com.zaxxer.hikari.HikariDataSource
    driverClassName: com.mysql.jdbc.Driver
    jdbcUrl: jdbc:mysql://localhost:3306/db_user
    username: root
    password: 123456
  read_ds_0:
    dataSourceClassName: com.zaxxer.hikari.HikariDataSource
    driverClassName: com.mysql.jdbc.Driver
    jdbcUrl: jdbc:mysql://localhost:3307/db_user
    username: root
    password: 123456
  read_ds_1:
    dataSourceClassName: com.zaxxer.hikari.HikariDataSource
    driverClassName: com.mysql.jdbc.Driver
    jdbcUrl: jdbc:mysql://localhost:3308/db_user
    username: root
    password: 123456



rules:
  - !READWRITE_SPLITTING
    dataSources:
      logic_db:
        writeDataSourceName: write_ds
        readDataSourceNames:
          - read_ds_0
          - read_ds_1
        transactionalReadQueryStrategy: PRIMARY
        loadBalancerName: alg_weight
    loadBalancers:
      # 负载均衡算法名称，上面的loadBalancerName可以通过算法名称引用不同算法
      random:
        # 算法类型
        type: RANDOM
      alg_round_robin:
        type: ROUND_ROBIN
      alg_weight:
        type: WEIGHT
        props:
          read_ds_0: 1
          read_ds_1: 2



props:
  sql-show: true